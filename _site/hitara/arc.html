<html>
<head>
	<meta charset="UTF-8">
	<title>Arc</title>
	<script src="./d3.min.js"></script>
</head>
<body>
	<script>

	var data = [8000,20000];    // current, total
	var frac = data[0]/data[1];

	var dims   = {height: 500, width: 500};
	var margin = {top: 20, right: 20, bottom: 20, left: 20};
	var w = dims.width - margin.right - margin.left;
	var h = dims.height - margin.top - margin.bottom;


	var r = Math.floor(w/4);              // Radius in pixels
	var p = Math.PI * 2;                  // Perimeter in radians

	var svg = d3.select("body").append("svg").attr({height: dims.height, width: dims.width})
				.append("g")
				.attr("transform","translate(" + [margin.left + r,margin.top + r] + ")");


	var arc0 = d3.svg.arc()                //D3 arc generator with attributes
	            .innerRadius(r - 50)
	            .outerRadius(r)
	            .startAngle(0)
	            .endAngle(0);

	var arc1 = d3.svg.arc()
				.innerRadius(r - 50)
				.outerRadius(r)
				.startAngle(0)
				.endAngle(p * frac);

	var arc2 = d3.svg.arc()
				.innerRadius(r)
				.outerRadius(r)
				.startAngle(p * frac)
				.endAngle(p);

	var arc3 = d3.svg.arc()
				.innerRadius(r - 50)
				.outerRadius(r)
				.startAngle(p * frac)
				.endAngle(p);

	svg.append("path")
		.attr("d", arc2)
		.transition()
		.delay(750)
		.duration(650)
		.attr({"d": arc3, fill: "#aaa"});

	svg.append("path")                   //Append arc to canvas object group
	      .attr("d", arc0)
	      .transition()
	      .duration(850)
	      .attr("d", arc1);


	</script>
</body>
</html>